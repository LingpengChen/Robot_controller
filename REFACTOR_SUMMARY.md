# ArduSubæ§åˆ¶ç³»ç»Ÿé‡æ„æ€»ç»“

## ğŸ¯ é‡æ„ç›®æ ‡

æ ¹æ®é¡¹ç›®READMEçš„åŠŸèƒ½æè¿°ï¼Œå¯¹ArduSubæ§åˆ¶ç³»ç»Ÿè¿›è¡Œäº†å®Œæ•´çš„é‡æ„ï¼Œå®ç°äº†ï¼š
- è§„èŒƒçš„ROSåŒ…ç»“æ„
- æ¨¡å—åŒ–ä»£ç ç»„ç»‡
- æ¸…æ™°çš„ä¾èµ–å…³ç³»ç®¡ç†
- è‡ªåŠ¨åŒ–å®‰è£…å’Œå¯åŠ¨

## ğŸ“ åŠŸèƒ½åˆ†ç±»å’Œç›®å½•ç»“æ„

### 1. æ ¸å¿ƒæ§åˆ¶æ¨¡å— (`src/ardusub_control/`)
- `control_ardusub.py` - ArduSubåº•å±‚MAVLinkæ§åˆ¶åº“
- `udp_connect.py` - UDPé€šä¿¡æ ¸å¿ƒç±»
- `config_manager.py` - é…ç½®ç®¡ç†å™¨ (æ–°å¢)
- `__init__.py` - åŒ…åˆå§‹åŒ–æ–‡ä»¶

**åŠŸèƒ½**: æä¾›åº•å±‚é€šä¿¡å’Œæ§åˆ¶åŠŸèƒ½ï¼Œä½œä¸ºPythonåŒ…ä¾›å…¶ä»–æ¨¡å—ä½¿ç”¨

### 2. ROSé›†æˆæ¨¡å— (`scripts/`)
- `ardusub_ros_bridge.py` - ROSæ¡¥æ¥èŠ‚ç‚¹ï¼Œè¿æ¥ROSè¯é¢˜å’ŒArduSub
- `ardusub_keyboard_ros.py` - åŸºäºROSçš„é”®ç›˜æ§åˆ¶èŠ‚ç‚¹
- `ardusub_gui_controller.py` - GUIæ§åˆ¶ç•Œé¢
- `ardusub_demo.py` - æ¼”ç¤ºç¨‹åº

**åŠŸèƒ½**: æä¾›æ ‡å‡†ROSæ¥å£ï¼Œæ”¯æŒè¯é¢˜é€šä¿¡å’ŒèŠ‚ç‚¹é›†æˆ

### 3. å·¥å…·è„šæœ¬ (`tools/`)
- `keyboard_controller.py` - åŸç‰ˆé”®ç›˜æ§åˆ¶å™¨
- `status_receiver.py` - UDPçŠ¶æ€æ¥æ”¶å™¨
- `connect_main.py` - UDPä¸»ç¨‹åºå…¥å£

**åŠŸèƒ½**: æä¾›ç‹¬ç«‹å·¥å…·å’Œä¸åŸç³»ç»Ÿçš„å…¼å®¹æ€§

### 4. é…ç½®å’Œå¯åŠ¨ (`config/`)
- `ardusub_config.yaml` - ç³»ç»Ÿé…ç½®æ–‡ä»¶ (æ–°å¢)
- `start_ardusub.sh` - å¯åŠ¨è„šæœ¬ (é‡æ„ç‰ˆ)

**åŠŸèƒ½**: é›†ä¸­ç®¡ç†é…ç½®å’Œæä¾›ç»Ÿä¸€å¯åŠ¨å…¥å£

### 5. ROSæ ‡å‡†æ–‡ä»¶
- `package.xml` - ROSåŒ…é…ç½® (æ–°å¢)
- `CMakeLists.txt` - CMakeæ„å»ºé…ç½® (æ–°å¢)
- `launch/ardusub_control.launch` - ROSå¯åŠ¨æ–‡ä»¶
- `msg/` - ROSæ¶ˆæ¯å®šä¹‰

## ğŸ”§ ä¾èµ–å…³ç³»ç®¡ç†

### Pythonä¾èµ– (`requirements.txt`)
```
pymavlink>=2.4.0    # MAVLinké€šä¿¡
pynput>=1.7.0       # é”®ç›˜æ§åˆ¶
PyYAML>=5.4.0       # é…ç½®æ–‡ä»¶
numpy>=1.20.0       # æ•°å­¦è®¡ç®—
```

### ROSä¾èµ– (`package.xml`)
- `rospy` - ROS Python API
- `std_msgs` - æ ‡å‡†æ¶ˆæ¯ç±»å‹
- `geometry_msgs` - å‡ ä½•æ¶ˆæ¯
- `sensor_msgs` - ä¼ æ„Ÿå™¨æ¶ˆæ¯
- `message_generation/runtime` - æ¶ˆæ¯ç”Ÿæˆ

### ç³»ç»Ÿä¾èµ–
- `python3-tk` - GUIæ”¯æŒ
- ROSç¯å¢ƒ (å¯é€‰)

## ğŸš€ å®‰è£…å’Œå¯åŠ¨

### è‡ªåŠ¨å®‰è£…
```bash
./install.sh
```

### å¯åŠ¨æ–¹å¼
```bash
# äº¤äº’å¼å¯åŠ¨èœå•
./config/start_ardusub.sh

# ç›´æ¥å¯åŠ¨ç‰¹å®šæ¨¡å¼
./config/start_ardusub.sh gui
./config/start_ardusub.sh ros
./config/start_ardusub.sh bridge
```

## ğŸ“ˆ æ”¹è¿›ç‚¹

### 1. ç»“æ„åŒ–ç»„ç»‡
- æŒ‰åŠŸèƒ½åˆ†æ¨¡å—ï¼Œç›®å½•ç»“æ„æ¸…æ™°
- æ ¸å¿ƒåº“ä¸åº”ç”¨è„šæœ¬åˆ†ç¦»
- é…ç½®é›†ä¸­ç®¡ç†

### 2. æ ‡å‡†åŒ–
- ç¬¦åˆROSåŒ…è§„èŒƒ
- ä½¿ç”¨æ ‡å‡†çš„`package.xml`å’Œ`CMakeLists.txt`
- è§„èŒƒçš„PythonåŒ…ç»“æ„

### 3. è‡ªåŠ¨åŒ–
- æä¾›å®‰è£…è„šæœ¬ï¼Œè‡ªåŠ¨æ£€æŸ¥å’Œå®‰è£…ä¾èµ–
- æ™ºèƒ½å¯åŠ¨è„šæœ¬ï¼Œæ”¯æŒå¤šç§å¯åŠ¨æ¨¡å¼
- å®Œæ•´çš„é”™è¯¯æ£€æŸ¥å’Œç”¨æˆ·æç¤º

### 4. å¯ç»´æŠ¤æ€§
- é…ç½®æ–‡ä»¶åŒ–ï¼Œå‚æ•°å¯è°ƒ
- æ¨¡å—åŒ–è®¾è®¡ï¼Œä¾¿äºæ‰©å±•
- å®Œæ•´çš„æ–‡æ¡£å’Œæ³¨é‡Š

### 5. å…¼å®¹æ€§
- ä¿æŒä¸åŸUDPç³»ç»Ÿçš„å…¼å®¹
- æ”¯æŒROSå’ŒéROSç¯å¢ƒ
- å‘åå…¼å®¹åŸæœ‰æ¥å£

## ğŸ¯ ä½¿ç”¨å»ºè®®

### æ–°ç”¨æˆ·
1. è¿è¡Œ `./install.sh` è‡ªåŠ¨å®‰è£…
2. ä½¿ç”¨ `./config/start_ardusub.sh` é€‰æ‹©GUIæ¨¡å¼

### ROSå¼€å‘è€…
1. ç¡®ä¿ROSç¯å¢ƒæ­£ç¡®è®¾ç½®
2. è¿è¡Œ `catkin_make` æ„å»ºåŒ…
3. ä½¿ç”¨ `roslaunch ardusub_control ardusub_control.launch`

### ç³»ç»Ÿé›†æˆ
1. ä½¿ç”¨ `src/ardusub_control/` ä¸­çš„æ ¸å¿ƒåº“
2. é€šè¿‡ROSè¯é¢˜ä¸ç³»ç»Ÿé€šä¿¡
3. å‚è€ƒ `config/ardusub_config.yaml` è¿›è¡Œé…ç½®

## ğŸ“‹ æ–‡ä»¶æ¸…å•

### æ ¸å¿ƒæ–‡ä»¶ (å¿…éœ€)
- `src/ardusub_control/control_ardusub.py` - æ ¸å¿ƒæ§åˆ¶åº“
- `scripts/ardusub_ros_bridge.py` - ROSæ¡¥æ¥èŠ‚ç‚¹
- `scripts/ardusub_gui_controller.py` - GUIæ§åˆ¶å™¨
- `config/start_ardusub.sh` - å¯åŠ¨è„šæœ¬

### é…ç½®æ–‡ä»¶
- `package.xml` - ROSåŒ…é…ç½®
- `CMakeLists.txt` - æ„å»ºé…ç½®
- `requirements.txt` - Pythonä¾èµ–
- `config/ardusub_config.yaml` - ç³»ç»Ÿé…ç½®

### å¯é€‰æ–‡ä»¶
- `tools/` - å…¼å®¹æ€§å·¥å…·
- `install.sh` - å®‰è£…è„šæœ¬
- `msg/` - è‡ªå®šä¹‰æ¶ˆæ¯å®šä¹‰

è¿™æ¬¡é‡æ„å®ç°äº†å®Œæ•´çš„æ¨¡å—åŒ–æ¶æ„ï¼Œæé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ï¼ŒåŒæ—¶ä¿æŒäº†ä¸åŸç³»ç»Ÿçš„å…¼å®¹æ€§ã€‚
