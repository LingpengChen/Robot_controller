<?xml version="1.0"?>
<launch>
    <!-- ArduSub控制节点 -->
    <node name="ardusub_control" pkg="ardusub_control" type="ardusub_ros_node.py" output="screen">
        <rosparam>
            # MAVLink连接参数
            mavlink_connection: "udpin:0.0.0.0:14551"
            
            # 控制参数
            max_velocity: 2.0  # m/s
            max_angular_velocity: 1.0  # rad/s
            depth_control_enabled: true
            attitude_control_enabled: true
            
            # 发布频率
            status_publish_rate: 10  # Hz
            heartbeat_rate: 1  # Hz
        </rosparam>
    </node>
    
    <!-- 可选：启动RViz进行可视化 -->
    <node name="rviz" pkg="rviz" type="rviz" args="-d $(find ardusub_control)/config/ardusub.rviz" required="false"/>
    
    <!-- 可选：启动rqt用于GUI控制 -->
    <node name="rqt_gui" pkg="rqt_gui" type="rqt_gui" required="false"/>
</launch>
